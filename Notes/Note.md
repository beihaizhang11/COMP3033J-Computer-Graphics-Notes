# 计算机图形学重点复习笔记

## 1. 笛卡尔坐标系 (Cartesian Coordinates)
- **定义**: 用 \(x, y, z\) 坐标表示点在二维或三维空间中的位置。
- **原点 (Origin)**:
    - 坐标为 (0,0,0)。
    - 是所有点的参考位置，移动原点会改变整个坐标系。
- **轴线 (Axes)**:
    - \(x\)-轴：水平 (从左到右)。
    - \(y\)-轴：垂直 (从下到上)。
    - \(z\)-轴：垂直于 \(xy\)-平面，通常指向屏幕外。
- **右手法则 (Right-Hand Rule)**:
    - **正方向**:
        - 大拇指：\(x\)-轴。
        - 食指：\(y\)-轴。
        - 手掌：\(z\)-轴。

---

## 2. 点 (Point) 与向量 (Vector)
- **点**:
    - 表示位置，例如 \(P(x, y, z)\)。
- **向量**:
    - 表示方向和大小，例如 \( \vec{v} \)。
    - 计算公式：\( \vec{v} = P - Q \)。
- **点与向量的区别**:
    - 点：位置。
    - 向量：方向。
- **运算规则**:
    - 点 + 向量 = 点。
    - 点 - 点 = 向量。
    - 向量 + 向量 = 向量。
    - 负向量：\( -\vec{v} \) 表示与 \( \vec{v} \) 方向相反。

---

## 3. 向量的基本运算
- **加法 (Addition)**:
    - 对应坐标相加，满足交换律、结合律、分配律。
- **减法 (Subtraction)**:
    - 对应坐标相减。
- **标量乘法 (Scalar Multiplication)**:
    - 将向量的每个坐标乘以一个标量（数值）。

---

## 4. 向量的乘法
- **点积 (Dot Product)**:
    - 结果是一个标量，表示两个向量的“投影”关系。
    - **公式**: \( \vec{u} \cdot \vec{v} = | \vec{u} | | \vec{v} | \cos\theta \)。
    - **应用**:
        - 判断向量是否垂直：点积为 0，则垂直。
        - 用于光照计算。
- **叉积 (Cross Product)**:
    - 结果是一个新的向量，与两个原向量都垂直。
    - **公式**: \( \vec{u} \times \vec{v} = | \vec{u} | | \vec{v} | \sin\theta \, \vec{n} \)。
    - **应用**:
        - 计算法向量 (Normal Vector)，用于表面光照和阴影。

---

## 5. 向量的长度与单位化
- **向量长度 (Magnitude)**:
    - **公式**: \( |\vec{v}| = \sqrt{x^2 + y^2 + z^2} \)。
- **单位化 (Normalization)**:
    - 将向量转化为长度为 1 的单位向量。
    - **公式**: \( \vec{v}_{\text{unit}} = \frac{\vec{v}}{|\vec{v}|} \)。

---

## 6. 矩阵 (Matrix)
- **定义**:
    - 矩阵是一个矩形数值数组，用于描述变换（如平移、旋转、缩放）。
- **矩阵运算**:
    - **加法**:
        - 对应位置元素相加，需相同维度。
    - **乘法**:
        - 通过点积计算。
        - **规则**: 矩阵的行乘以另一矩阵的列。
        - **注意**: 矩阵乘法顺序不同，结果不同。
    - **转置 (Transpose)**:
        - 矩阵沿对角线翻转，行变列。
    - **单位矩阵 (Identity Matrix)**:
        - 类似数字中的 1，乘以单位矩阵不改变原矩阵。
    - **逆矩阵 (Inverse Matrix)**:
        - 类似数字的倒数 \(1/x\)，用于反向操作。

---

## 7. 矩阵与点/向量的乘法
- **矩阵与点**:
    - 矩阵乘以点，用于变换（如平移、旋转、缩放）。
    - 每一行与点的坐标做点积，结果是一个新的点。
- **矩阵与向量**:
    - 结果是一个新的向量，计算规则类似于点。

---

## 8. 线性代数在计算机图形学中的应用
- **坐标变换 (Transformations)**:
    - 通过矩阵对点或向量进行线性变换。
    - 常见变换包括：
        - 平移 (Translation)。
        - 旋转 (Rotation)。
        - 缩放 (Scaling)。
- **法向量 (Normal Vector)**:
    - 用于光照计算，尤其是反射方向。
- **独立向量 (Independent Vectors)**:
    - 线性独立的向量集合可作为坐标系的基 (Basis)。
    - **正交单位基 (Orthonormal Basis)**:
        - 向量互相垂直且为单位向量，用于标准坐标系。

---

# 二维空间中的直线 (Lines in 2-D)

## **1. 点积的几何应用**
点积是处理直线与向量问题的重要工具，主要应用包括：
- **向量长度**: 计算向量的大小。
- **两向量夹角**: 判断两向量的方向关系。
- **法向量**: 计算垂直于向量的方向。
- **向量投影**: 将一个向量投影到另一向量或直线上。
- **点到直线的距离**: 通过法向量简化距离计算。
- **两直线的交点**: 转换方程并求解。

---

## **2. 表示直线的不同形式**

### **2.1 显式形式 (Explicit Form)**
- 表达式：用 \( y = mx + b \) 表示，斜率 \( m \) 和截距 \( b \) 描述直线。
- **优点**: 易于理解。
- **缺点**: 无法表示垂直于 \( x \)-轴的直线。

### **2.2 隐式形式 (Implicit Form)**
- 表达式：\( ax + by + c = 0 \)，可表示任何方向的直线。
- **优点**: 包括垂直线在内的所有直线均可表示。
- **用途**:
    - 检查点是否在直线上：代入点的坐标即可验证。
    - 判断点在直线的哪一侧：通过公式的符号区分。

### **2.3 法向量形式 (Normal Form)**
- 表达方式：使用法向量表示直线，通常与隐式形式相关。
- **优点**:
    - 简化点到直线距离的计算。
    - 容易判断点的方向（哪一侧）。

### **2.4 参数形式 (Parametric Form)**
- 表达方式：用参数 \( t \) 定义直线上的点。
- **用途**:
    - 适合动态描述，例如沿直线移动的物体。
    - 更易计算两直线交点。

---

## **3. 常见几何问题**

### **3.1 点是否在直线上**
- 方法：代入点的坐标，检查是否满足隐式或参数形式的方程。

### **3.2 点到直线的距离**
- 方法：通过法向量形式计算点到直线的最短距离。
- 如果法向量已单位化，计算会更加简单。

### **3.3 点在直线的哪一侧**
- 方法：通过隐式方程的符号判断：
    - 正值：点在法向量方向。
    - 负值：点在法向量反方向。
    - 零值：点在直线上。

### **3.4 点到直线的最近点**
- 方法：将点投影到直线，得到最近点的位置。

### **3.5 两直线的交点**
- 显式形式：解方程组。
- 参数形式：设置不同的参数，求解交点位置。

---

## **4. 点积与直线问题的联系**
- **点积的用途**:
    - 判断点到直线的距离。
    - 验证点在直线的哪一侧。
    - 计算向量在直线上的投影。
- **优势**:
    - 将几何问题转化为代数运算。
    - 利用法向量简化复杂计算。

---

## **5. 总结**
1. **直线表示形式**:
    - 显式形式适合简单情况，但无法表示垂直线。
    - 隐式形式与法向量形式适合更复杂的应用。
    - 参数形式适合描述动态问题。

2. **常见几何问题**:
    - 判断点是否在直线上。
    - 计算点到直线的距离。
    - 判断点的位置关系（方向）。
    - 求解两直线的交点。

3. **法向量的重要性**:
    - 简化计算距离和判断方向。
    - 是隐式和法向量形式的核心工具。

# 光栅化重点复习笔记

## **1. 什么是光栅化？**
光栅化是将几何图形（如直线和三角形）转换为离散像素表示的过程。它是计算机图形学中将图形绘制到屏幕上的关键步骤。

- **目标**：确定哪些像素属于某条直线或三角形，并对它们进行着色。
- **关键问题**：
    1. 如何绘制直线？
    2. 如何绘制三角形（边框与填充）？

---

## **2. 绘制直线的方法**

### **2.1 显式形式 (Explicit Form)**
- 通过直线方程计算每个 \( x \) 坐标对应的 \( y \) 坐标，然后设置像素点。
- **优点**：概念简单，易于理解。
- **缺点**：
    - 当斜率 \( m > 1 \) 或 \( m < -1 \) 时，算法复杂。
    - 不适合处理递减方向的线段。

---

### **2.2 隐式形式 (Implicit Form)**
- 基于直线的隐式方程，判定像素点是否在直线的 0.5 像素范围内。
- **优点**：
    - 可以处理垂直线。
    - 适合用来判断点的位置关系。
- **缺点**：通常绘制的是整条直线，而不是线段。

---

### **2.3 参数形式 (Parametric Form)**
- 将直线表示为起点、方向向量与参数 \( t \) 的函数。
- **优点**：
    - 实现简单，易于编码。
    - 适合用来进行颜色插值（如渐变色）。
- **应用**：
    - 动态表示直线。
    - 计算直线上的任意点及其属性。

---

### **2.4 三种方法比较**
- **显式形式**：适合简单情况，但算法复杂，处理特殊情况困难。
- **隐式形式**：易于判定点的位置，适合垂直线，但适用于整条直线。
- **参数形式**：最易实现，灵活性高，特别适合插值和动态计算。

---

## **3. 颜色插值 (Colour Interpolation)**

### **3.1 定义**
颜色插值是使颜色在起点到终点之间平滑过渡的过程。

### **3.2 线性插值**
- 假设颜色随着参数 \( t \) 变化呈线性关系：
    - 起点 \( t = 0 \)：起点颜色。
    - 终点 \( t = 1 \)：终点颜色。
- 适合使用参数形式来实现。

### **3.3 应用**
- 绘制带有颜色渐变的直线。
- 在三角形内部实现颜色、法向量、纹理等属性的插值。

---

## **4. 绘制三角形的方法**

### **4.1 三角形的定义**
- 三角形由 **三个顶点** 或 **三条边** 定义。

### **4.2 填充三角形的方法**

#### **显式形式**
- 遍历三角形的 \( x \) 坐标范围，对于每一列计算对应的起始和结束 \( y \) 坐标。
- **优点**：逻辑清晰，易于理解。
- **缺点**：处理复杂的顶点位置时，算法较繁琐。

#### **光栅扫描算法 (Raster Scan Algorithm)**
- 按行扫描三角形的像素，每次填充一行。
- **优点**：高效地填充整个三角形。

#### **隐式/半平面测试 (Half-Plane Test)**
- 使用三角形边的法向量，将平面分为两半。
- 判定点是否在三角形内部：
    - 如果满足三条边的“内部”条件，则该点属于三角形。
- **优点**：实现简单，易于编码。

---

### **4.3 三角形插值**

#### **线性插值**
- 根据顶点属性（如颜色）和点的位置进行线性插值。
- 适用于颜色、法向量、纹理等的平滑过渡。

#### **重心坐标 (Barycentric Coordinates)**
- 三角形内部的每个点可以通过三个顶点的权重 \( \alpha, \beta, \gamma \) 表示。
    - 三个权重之和为 1。
- **优点**：
    - 可以插值颜色、法向量、纹理等属性。
    - 简化三角形内部任意点的计算。

---

## **5. 三种方法的比较**

### **5.1 显式形式**
- **优点**：逻辑简单，易于理解。
- **缺点**：处理复杂情况时效率较低。

### **5.2 隐式形式**
- **优点**：易于实现，特别适合判断点的位置关系。
- **缺点**：不适合插值计算。

### **5.3 参数形式 (重心坐标)**
- **优点**：
    - 灵活性高，适合进行插值计算。
    - 可同时用于颜色、法向量和纹理插值。
- **缺点**：计算量较大。

---

## **6. 总结重点**

### **直线绘制**
1. **显式形式**：使用 \( y = mx + c \)，适合简单情况。
2. **隐式形式**：通过法向量进行距离判断，适合垂直线。
3. **参数形式**：通过参数 \( t \) 计算直线上的点，易于实现颜色插值。

### **三角形绘制**
1. **边框绘制**：绘制三条边。
2. **填充方法**：
    - **光栅扫描**：按行扫描填充三角形。
    - **半平面测试**：通过法向量判断点是否在三角形内部。
3. **插值方法**：
    - **线性插值**：基于顶点属性的线性变化。
    - **重心坐标**：通过顶点权重计算三角形内部点的属性。

### **颜色插值**
1. **直线插值**：颜色随参数 \( t \) 线性变化。
2. **三角形插值**：使用重心坐标进行颜色、纹理等属性的平滑过渡。

### **对比总结**
- **显式形式**：简单易懂，适合基础学习。
- **隐式形式**：易于实现，适合点的位置判断。
- **参数形式/重心坐标**：功能强大，适合复杂插值和渲染。

---

# 几何建模 (Geometric Modelling) 重点复习笔记

## **1. 几何建模的基本概念**
- **定义**: 几何建模是描述三维空间中对象的位置、形状和行为的过程。
- **建模方法**:
    1. 使用**基本几何体**（如球体、圆柱体）组合复杂物体。
    2. 通过**分解与构建**技术，将复杂对象拆分成简单形状。

---

## **2. 基本几何体 (Primitives)**

### **2.1 2D 图形**
- **多边形 (Polygon)**: 由边和顶点构成的二维形状。
    - 常见类型：三角形、正方形/矩形、五边形、六边形、圆等。
- **特点**: 简单易理解，适合平面表示。

### **2.2 3D 图形**
- **多面体 (Polyhedron)**: 由顶点、边和面构成的三维形状。
- **柏拉图立体 (Platonic Solids)**: 所有面是相同正多边形的凸多面体。
    - 常见类型:
        - 四面体、六面体 (立方体)、八面体、十二面体、二十面体。

---

## **3. 复杂物体的建模**

### **3.1 组合几何 (CSG: Constructive Solid Geometry)**
- **概念**: 使用布尔运算将基本几何体组合成复杂物体。
- **布尔运算**:
    - 并集 (Union): 合并两个物体。
    - 差集 (Subtraction): 从一个物体中减去另一个物体。
    - 交集 (Intersection): 两个物体的重叠部分。
- **应用**: 用简单几何体组合实现复杂形状。

### **3.2 旋转体 (Solids of Revolution)**
- **定义**: 通过将二维形状绕轴旋转生成三维物体。
- **常见物体**:
    - 圆柱体、圆锥体、球体、环面等。

---

## **4. 多边形与填充**

### **4.1 填充多边形**
- **概念**: 将多边形分解为若干三角形进行填充。
- **方法**:
    1. 将复杂多边形分解为多个三角形。
    2. 使用光栅化技术逐个三角形填充像素。

### **4.2 多面体的表面**
- **组成**: 由多个多边形面构成。
- **三角化**: 将复杂面分解为多个三角形，便于计算和渲染。
- **法向量**:
    - 每个三角形面都有一个法向量，用于确定面朝向和光照效果。

---

## **5. 平滑曲面与法向量**

### **5.1 光滑曲面与多面体近似**
- **问题**: 如何使用多面体近似光滑曲面？
- **解决方案**: 增加面数，使多面体看起来更接近光滑表面。

### **5.2 法向量 (Normals)**
- **概念**: 法向量表示面或顶点的方向。
- **应用**: 在光照计算中，法向量决定光线的反射方向，增加物体的立体感。

---

## **6. 球体的建模**

### **6.1 参数化球体**
- **定义**: 使用经度和纬度将球面划分为多个点，生成球体。
- **过程**:
    - 沿纬度生成水平圆形。
    - 沿经度分布这些圆周上的点。

### **6.2 球体的法向量**
- **特点**: 球体上每个点的法向量指向与原点到该点的方向一致。
- **应用**: 法向量用于光照计算，使球体呈现平滑的表面效果。

---

## **7. 光线追踪 (Ray Tracing)**

### **7.1 定义**
- 光线追踪是一种渲染方法，通过模拟光线传播的路径来计算场景中的颜色和阴影。

### **7.2 基本步骤**
1. 从视点出发，投射光线穿过图像平面。
2. 计算光线与场景中物体的交点。
3. 根据光照模型计算颜色，添加反射和折射效果。

### **7.3 应用**
- **光滑表面**: 使用法向量计算反射和折射路径。
- **阴影**: 通过跟踪光线与其他物体的交点，确定是否被遮挡。

---

## **8. 总结重点**

### **几何建模的核心概念**
1. **基本几何体**:
    - 2D: 多边形（如三角形、矩形、圆等）。
    - 3D: 多面体与柏拉图立体。
2. **复杂建模方法**:
    - 组合几何 (CSG): 使用布尔运算。
    - 旋转体: 通过二维形状旋转生成三维物体。
3. **多边形的处理**:
    - 三角化: 将复杂面分解为三角形。
    - 法向量: 用于光照和阴影计算。

### **光滑曲面与法向量**
1. **光滑曲面**: 通过增加多面体面数，逼近光滑效果。
2. **法向量**: 表示面或顶点的方向，用于光照反射计算。

### **球体的建模**
1. **参数化球体**: 使用经纬度划分球体表面。
2. **球体法向量**: 与球心到点的向量方向一致。

### **光线追踪**
1. **原理**: 追踪光线路径，计算物体的颜色、阴影、反射和折射。
2. **应用**: 高精度渲染，适用于光滑表面和复杂光照效果。

---

# 投影渲染与变换 (Projective Rendering & Transformations)

## **1. 投影渲染 (Projective Rendering)**
- **定义**: 将三维场景渲染到二维图像平面。
- **方法**:
    1. **光线追踪 (Ray Tracing)**:
        - 从每个像素发出一条光线，与物体交点计算颜色。
    2. **多像素计算 (Multiple Pixel Computation)**:
        - 计算三角形投影到图像平面的覆盖像素。

---

## **2. 遮挡问题与解决方法**

### **2.1 画家算法 (Painter’s Algorithm)**
- **原理**: 按远到近的顺序绘制物体，近的物体会覆盖远的物体。
- **问题**: 遮挡循环场景会使算法失效。

### **2.2 Z-缓冲 (Z-Buffering)**
- **原理**: 对每个像素记录深度值 \( z \)，根据深度判断是否绘制像素。
- **优点**: 高效解决遮挡问题，不依赖绘制顺序。

---

## **3. 组合建模 (Composite Modelling)**

### **3.1 基本几何体**
- 通过点、线、三角形等简单形状组合更复杂的物体。

### **3.2 对象描述**
- 每个对象的属性:
    1. **形状**: 如三角形、球体。
    2. **大小**: 物体的尺寸。
    3. **位置**: 在三维空间的坐标。
    4. **变换**: 对物体进行移动、旋转或缩放的调整。

---

## **4. 坐标系**

### **4.1 坐标系类型**
1. **对象坐标系 (OCS)**:
    - 描述物体的局部坐标。
2. **世界坐标系 (WCS)**:
    - 描述物体在场景中的位置。
3. **视图坐标系 (VCS)**:
    - 相机或眼睛的视角坐标。

---

## **5. 几何变换**

### **5.1 基本变换**
1. **旋转 (Rotation)**:
    - 绕指定轴进行旋转。
2. **缩放 (Scaling)**:
    - 改变物体的大小，负缩放表示反射。
3. **剪切 (Shearing)**:
    - 将物体的部分拉伸或倾斜。
4. **平移 (Translation)**:
    - 沿着特定方向移动物体。

### **5.2 变换的组合**
- 多个变换通过矩阵组合。
- **顺序问题**: 先后顺序不同会导致结果不同。

---

## **6. 正交基与坐标系变换**

### **6.1 正交基 (Orthonormal Basis)**
- **定义**: 一组相互垂直且长度为 1 的基向量。
- **作用**: 简化旋转、缩放和变换的计算。

### **6.2 坐标系变换**
- 将点从一个坐标系转换到另一个坐标系。
- **常见转换**: 物体坐标系到世界坐标系。

---

## **7. 投影 (Projection)**

### **7.1 平行投影 (Parallel Projection)**
- **特点**: 保留平行性。
- **类型**:
    1. **正交投影**: 投影方向垂直于投影平面。
    2. **斜投影**: 投影方向与投影平面有一定角度。

### **7.2 透视投影 (Perspective Projection)**
- **特点**: 模拟真实观察效果。
- **效果**: 近大远小的视觉效果。
- **应用**: 游戏、虚拟现实渲染。

---

## **8. 法向量变换 (Normal Transformation)**

### **8.1 法向量的重要性**
- 法向量表示表面的方向。
- **应用**: 在光照计算中用于确定反射和折射方向。

### **8.2 法向量的变换**
- **问题**: 非均匀缩放和剪切会使法向量失真。
- **解决方法**:
    1. 在变换后重新计算法向量。
    2. 尽量避免非均匀缩放或剪切。

---

## **9. 投影与变换的实际应用**

### **9.1 动画**
- 通过连续应用平移、旋转、缩放实现动态运动。

### **9.2 场景建模**
- 使用几何变换调整物体在场景中的位置和方向。

---

## **10. 总结**

### **投影渲染**
1. **光线追踪**: 逐像素计算光线与物体的交点。
2. **Z-缓冲**: 使用深度值解决遮挡问题。

### **几何变换**
1. **基本变换**: 旋转、缩放、剪切和平移。
2. **变换组合**: 顺序不同，结果不同。
3. **正交基**: 简化坐标系切换。

### **投影**
1. **平行投影**: 保留平行性，常用于工程制图。
2. **透视投影**: 模拟真实视觉效果。

### **法向量变换**
1. **光照计算**: 决定光线的反射和折射方向。
2. **缩放与剪切问题**: 缩放或剪切后需重新计算法向量。

---

# 齐次坐标与透视投影重点复习笔记

## **1. 透视投影 (Perspective Projection)**

### **1.1 透视的起源**
- 起源于文艺复兴时期，用于绘制建筑和街道，模拟真实视觉效果。
- **核心问题**: 远处的物体看起来较小，平行线会收敛到一个点（消失点）。

---

### **1.2 透视类型**
1. **1点透视**
    - 只有一个消失点。
    - 适合看向一条直线或街道场景。
2. **2点透视**
    - 两组平行线收敛到两个消失点。
    - 常见于建筑物斜角的观察视角。
3. **3点透视**
    - 增加垂直方向的消失点。
    - 适合仰视或俯视的场景。

---

### **1.3 视锥体 (View Frustum)**
- **定义**: 在透视投影中，可见空间的形状类似于一个截头棱锥。
- **组成**:
    1. **近剪裁面**: 离观察者最近的平面。
    2. **远剪裁面**: 离观察者最远的平面。
- **视场 (Field of View)**:
    - 视角越大，看到的范围越广，物体看起来更小。

---

### **1.4 透视效果**
- **缩短效果**:
    - 远处物体之间的间距看起来更小。
    - 近大远小的视觉效果，增强真实感。

---

## **2. 齐次坐标 (Homogeneous Coordinates)**

### **2.1 引入齐次坐标的原因**
- **问题**: 笛卡尔坐标无法表示透视投影与平移变换。
- **解决方案**: 引入齐次坐标，将二维或三维坐标扩展为高维形式。

---

### **2.2 齐次坐标的特点**
- **比例缩放**:
    - 相同位置可以通过不同的坐标比例表示。
    - 例如，\( (1, 2, 1) \) 和 \( (2, 4, 2) \) 表示同一个点。
- **点与向量的区别**:
    - **点**: 齐次坐标为 \( w = 1 \)。
    - **向量**: 齐次坐标为 \( w = 0 \)。

---

### **2.3 齐次坐标的优势**
1. **统一表示变换**:
    - 平移、旋转、缩放、剪切等变换都可以用齐次坐标统一表示。
2. **实现透视投影**:
    - 透视投影在齐次坐标下可以简单地表示为坐标变换。
3. **高效计算**:
    - 将多个变换合并为一个矩阵，减少计算步骤。

---

## **3. 几何变换与齐次坐标**

### **3.1 基本几何变换**
1. **平移**: 沿指定方向移动物体。
2. **旋转**: 围绕指定轴旋转物体。
3. **缩放**: 改变物体的大小。
4. **剪切**: 使物体沿特定方向倾斜。

---

### **3.2 变换的组合**
- **顺序问题**: 变换的顺序不同，结果也不同。  
  例如，先平移后旋转，与先旋转后平移会产生不同的结果。
- **合并变换**:
    - 通过矩阵乘法将多个变换合并成一个矩阵，减少计算复杂度。

---

## **4. 投影矩阵与透视投影**

### **4.1 投影矩阵的作用**
- **透视投影**: 将三维坐标转换到二维图像平面，并模拟远近缩小的效果。
- **缩短效果**:
    - 透视投影使得远处的点映射到图像平面时，距离更小。

---

### **4.2 透视投影的效果**
- 均匀分布的三维点，在透视投影后，会在二维图像平面上变得不均匀。
- **近大远小**:
    - 物体距离观察者越近，看起来越大。
    - 物体距离观察者越远，看起来越小。

---

## **5. 重点总结**

### **透视投影**
1. **类型**:
    - 1点透视: 一个消失点。
    - 2点透视: 两个消失点。
    - 3点透视: 三个消失点。
2. **视锥体**: 定义可见范围，包括近剪裁面和远剪裁面。
3. **缩短效果**: 远处物体看起来更小，增强真实感。

### **齐次坐标**
1. **引入原因**: 解决平移变换和透视投影的问题。
2. **特点**:
    - 同一位置可以通过比例缩放表示。
    - 点与向量的齐次坐标表示不同。
3. **优势**:
    - 统一表示几何变换（平移、旋转、缩放）。
    - 简化透视投影的实现。

### **几何变换**
1. **基本变换**: 平移、旋转、缩放、剪切。
2. **变换组合**: 顺序不同，结果不同；可通过矩阵合并优化计算。

### **投影矩阵**
1. **功能**: 将三维坐标转换到二维平面。
2. **效果**: 模拟透视投影，实现近大远小的视觉效果。

---

# 坐标系统与投影渲染重点复习笔记

## **1. 坐标系统 (Coordinate Systems)**

### **1.1 坐标系统的种类**
1. **OCS (Object Coordinate System)**
    - 描述物体自身的坐标系。
    - 随着物体移动，坐标系与物体一起移动。

2. **WCS (World Coordinate System)**
    - 描述物体在整个场景中的位置。
    - 以固定点（如地球中心）作为原点。

3. **VCS (View Coordinate System)**
    - 观察者或相机视角的坐标系。
    - 随着观察者的视角变化而调整。

4. **CCS (Clipping Coordinate System)**
    - 将视锥体映射到剪裁坐标系。
    - 用于确定物体的可见性，并剪裁超出范围的部分。

5. **NDCS (Normalized Device Coordinate System)**
    - 将剪裁坐标转换为设备无关的归一化坐标。
    - 坐标值范围固定，例如 \( [-1, 1] \)。

6. **DCS (Device Coordinate System)**
    - 最终将归一化坐标映射到屏幕的像素坐标系。
    - 取决于屏幕分辨率和窗口大小。

---

## **2. 变换矩阵 (Transformation Matrices)**

### **2.1 模型矩阵 (Model Matrix)**
- 作用: 将物体从 **对象坐标系 (OCS)** 转换到 **世界坐标系 (WCS)**。
- 用于控制物体在场景中的位置、大小和方向。

### **2.2 视图矩阵 (View Matrix)**
- 作用: 将坐标从 **世界坐标系 (WCS)** 转换到 **视图坐标系 (VCS)**。
- 模拟相机或观察者的视角。

### **2.3 投影矩阵 (Projection Matrix)**
- 作用: 将坐标从 **视图坐标系 (VCS)** 转换到 **剪裁坐标系 (CCS)**。
- 两种类型:
    - **透视投影**: 模拟真实视觉，远处物体变小。
    - **正交投影**: 保持平行线平行，常用于工程图。

### **2.4 透视除法 (Perspective Division)**
- 作用: 将齐次坐标转为标准坐标，消除比例因子。
- 是透视投影中实现缩短效果的关键步骤。

### **2.5 视口变换 (Viewport Transformation)**
- 作用: 将归一化坐标 (NDCS) 转换为屏幕上的像素坐标 (DCS)。
- 根据窗口大小和分辨率调整显示坐标。

---

## **3. 投影渲染 (Projective Rendering)**

### **3.1 渲染流程**
1. **定义对象**
    - 使用基本几何体（点、线、三角形）构建物体模型。
    - 定义颜色、纹理和材质信息。

2. **几何变换**
    - 应用 **模型矩阵**、**视图矩阵** 和 **投影矩阵**。
    - 完成坐标变换和投影映射。

3. **光栅化 (Rasterization)**
    - 将投影后的几何体映射到像素坐标。
    - 插值计算颜色、纹理和光照信息。

4. **像素处理**
    - 根据深度测试、光照模型和材质计算最终像素颜色。

5. **写入帧缓冲**
    - 将最终像素数据存储在帧缓冲区中。
    - 使用双缓冲机制避免屏幕闪烁。

---

## **4. 投影类型与特点**

### **4.1 正交投影 (Orthographic Projection)**
- **特点**: 保持物体的平行线平行。
- **应用**: 工程设计、建筑图学等。
- **效果**: 不模拟深度感，物体大小与距离无关。

### **4.2 透视投影 (Perspective Projection)**
- **特点**: 模拟真实视觉效果，平行线会在消失点处收敛。
- **效果**: 近大远小，增强场景的深度感。
- **视锥体**: 定义了观察范围的形状，为一个截头棱锥。

---

## **5. 坐标变换的优势与挑战**

### **5.1 优势**
1. **统一的计算方式**: 使用矩阵运算统一处理不同类型的变换。
2. **简化渲染流程**: 坐标变换和投影过程可高度优化。
3. **设备无关性**: 归一化坐标适用于不同分辨率和窗口大小。

### **5.2 挑战**
1. **设置复杂**: 需要定义多个坐标系和变换矩阵。
2. **调试困难**: 小错误可能导致物体位置和显示结果异常。
3. **计算量大**: 涉及大量矩阵乘法，需优化性能。

---

## **6. 总结重点**

### **坐标系统**
1. **OCS**: 物体的本地坐标系。
2. **WCS**: 整个场景的全局坐标系。
3. **VCS**: 相机或观察者的坐标系。
4. **CCS**: 剪裁坐标系，用于裁剪视锥体外的部分。
5. **NDCS**: 归一化坐标系，独立于设备。
6. **DCS**: 最终映射到屏幕的像素坐标。

### **变换矩阵**
1. **模型矩阵**: OCS → WCS。
2. **视图矩阵**: WCS → VCS。
3. **投影矩阵**: VCS → CCS。
4. **透视除法**: 转换为标准坐标。
5. **视口变换**: NDCS → DCS。

### **投影类型**
1. **正交投影**: 平行线保持平行，不具备深度感。
2. **透视投影**: 模拟真实视觉，产生近大远小的效果。

### **渲染流程**
1. 定义对象 → 2. 坐标变换 → 3. 光栅化 → 4. 像素处理 → 5. 写入帧缓冲。

---

# OpenGL 流水线与投影硬件重点复习笔记

## **1. OpenGL 渲染流水线**

### **1.1 渲染流水线主要阶段**
1. **输入 (Input)**
    - 定义模型的几何体，如三角形、线段和点。
    - 设置顶点属性，包括位置、法向量、颜色和纹理坐标。

2. **顶点操作 (Vertex Operations)**
    - 进行几何变换，例如旋转、平移和投影。
    - 计算顶点的光照和纹理坐标。

3. **基元装配 (Primitive Assembly)**
    - 将顶点组装成图元（三角形、线段等）。
    - 剪裁掉视锥体外部的部分，执行透视除法。

4. **纹理准备 (Texture Preparation)**
    - 从存储器中加载纹理。
    - 设置纹理分辨率、颜色格式等属性。

5. **光栅化 (Rasterization)**
    - 将三角形转化为像素 (Fragment)。
    - 为每个像素插值计算颜色、纹理和深度信息。

6. **像素操作 (Pixel Operations)**
    - 对每个像素进行最终处理。
    - 应用纹理、光照和透明效果。
    - 执行深度测试确保像素显示顺序正确。

---

## **2. OpenGL 顶点与光照**

### **2.1 顶点属性**
- **法向量 (Normal Vector)**: 定义顶点表面的方向，用于光照计算。
- **颜色 (Color)**: 设置顶点的颜色，直接应用于渲染。
- **材质 (Material)**: 设置顶点材质属性（用于光照模型）。
- **纹理坐标 (Texture Coordinates)**: 用于将纹理映射到模型表面。
- **位置 (Position)**: 顶点的坐标位置。

---

### **2.2 光照模型**
1. **环境光 (Ambient Light)**: 表示场景中的背景光强度，均匀分布。
2. **漫反射 (Diffuse Light)**: 物体表面接收到的均匀光照，依赖光源方向和法向量。
3. **镜面反射 (Specular Light)**: 高光部分的反射光，依赖光源和观察者的位置。

---

## **3. 矩阵与投影**

### **3.1 矩阵类型**
1. **模型视图矩阵 (Modelview Matrix)**
    - 将模型的局部坐标转换到观察者视角坐标。
    - 结合模型变换和视图变换。

2. **投影矩阵 (Projection Matrix)**
    - 定义视锥体的形状和投影类型。
    - 将视角坐标转换为剪裁坐标。

---

### **3.2 投影类型**
1. **透视投影 (Perspective Projection)**
    - 模拟真实视觉，产生近大远小的效果。
    - 平行线会在消失点处汇聚。

2. **正交投影 (Orthographic Projection)**
    - 保持物体的比例，平行线保持平行。
    - 常用于工程制图和建筑设计。

---

### **3.3 视口变换**
- **作用**: 将归一化的坐标映射到屏幕像素坐标。
- **用途**: 确定图像在窗口中的显示范围。

---

## **4. OpenGL 函数命名规则**
1. **函数前缀**: 所有 OpenGL 函数以 `gl` 开头。
2. **常量前缀**: OpenGL 常量以 `GL_` 开头。
3. **后缀规则**:
    - 数值维度：1, 2, 3, 或 4。
    - 数据类型：`f` 表示 float, `d` 表示 double。
    - 向量：后缀 `v` 表示向量。

---

## **5. 总结**

### **渲染流水线**
1. **阶段**: 输入 → 顶点操作 → 基元装配 → 纹理准备 → 光栅化 → 像素操作。
2. **重点**: 每个阶段负责处理特定任务，从顶点到最终像素显示。

### **顶点与光照**
1. **顶点属性**: 包括法向量、颜色、材质、纹理和位置。
2. **光照模型**: 环境光、漫反射和镜面反射。

### **投影与矩阵**
1. **模型视图矩阵**: 描述模型变换和观察者视角。
2. **投影矩阵**: 定义视锥体形状，支持透视和正交投影。
3. **视口变换**: 将归一化坐标映射到屏幕像素。

---

# 动画 (Animation) 重点复习笔记

## **1. 动画的基本概念**

### **1.1 什么是动画？**
- 动画是通过快速绘制一系列静态图像，创造出物体运动的假象。
- **关键概念**:
    - **帧 (Frame)**: 动画中的单个静态图像。
    - **帧率 (Frame Rate)**: 每秒显示的帧数。
- 人眼对动画的感知：
    - 每秒 **24 帧** 或更多可以被认为是流畅运动。

---

### **1.2 帧率与流畅度**
1. **电影帧率**: 早期电影帧率为 **16 fps**，现代电影通常为 **24 fps**。
2. **计算机动画帧率**:
    - 目标通常为 **60 fps**，确保动画流畅。
3. **丢帧 (Dropped Frames)**: 当无法按时生成新帧时，重复上一帧会导致动画卡顿。

---

## **2. 计算机图形学中的动画**

### **2.1 层级动画 (Hierarchical Animation)**
- **定义**: 将复杂物体分解成层次结构，每个部分可以独立进行变换。
- **特点**:
    - 父子关系：父节点变换会影响子节点。
    - **例子**: 人体骨骼动画，头、手臂、腿等各部分可以独立运动。
- **应用**: 机器人、人体模型和机械运动。

---

### **2.2 矩阵栈 (Matrix Stack)**
- **作用**: 在层级动画中，管理每个节点的变换顺序。
- **流程**:
    1. 保存当前矩阵状态。
    2. 应用子节点的变换。
    3. 恢复到父节点的矩阵状态。

---

### **2.3 骨骼动画 (Skeletal Animation)**
- **定义**: 使用骨骼和关节控制角色运动的动画技术。
- **组成**:
    - **骨骼 (Bones)**: 独立的变换单元。
    - **关节 (Joints)**: 连接骨骼，允许旋转或移动。
- **自由度 (Degrees of Freedom, DOF)**:
    - **1 DOF**: 例如肘关节只能单轴旋转。
    - **多 DOF**: 如肩膀、手腕，允许多轴旋转。

---

## **3. 运动的实现方法**

### **3.1 关键帧插值 (Keyframe Interpolation)**
- **关键帧**: 由动画师手动设置的关键时刻的姿态或位置。
- **插值**: 自动计算关键帧之间的中间帧，使运动平滑过渡。
- **优点**: 简单易用，适用于大部分动画场景。

---

### **3.2 运动捕捉 (Motion Capture, Mocap)**
- **定义**: 通过捕捉真实人物的运动数据，用于驱动动画角色。
- **特点**:
    - 记录关节的角度和运动轨迹。
    - 常用于电影、游戏和虚拟现实。
- **挑战**:
    - 捕捉数据需要适配不同角色的比例和尺寸。
    - 需要后期处理数据，消除噪声。

---

### **3.3 逆向运动学 (Inverse Kinematics, IK)**
- **定义**: 给定末端位置，自动计算关节的旋转角度，使目标点到达指定位置。
- **关键概念**:
    - **末端执行器 (End Effector)**: 需要移动到目标位置的点（如手或脚）。
    - **关节链 (Joint Chains)**: 由多个关节组成的链条。
- **应用**:
    - 角色动画中的手臂和腿部动作。
    - 机器人运动规划。

---

## **4. 动画中的挑战**

1. **碰撞检测与响应 (Collision Detection & Response)**
    - 确保动画角色与场景物体之间不会发生穿透现象。
2. **姿态平滑过渡 (Blending)**
    - 关键帧之间平滑过渡，避免运动突兀。
3. **皮肤平滑过渡 (Skinning)**
    - 骨骼动画中，关节处皮肤需要平滑过渡，避免撕裂或变形。
4. **动画适配不同角色 (Retargeting)**
    - 调整捕捉到的运动数据，使其适配不同尺寸和比例的角色。

---

## **5. 总结重点**

### **动画的核心概念**
1. 动画通过一系列静态帧产生运动的假象。
2. **帧率**: 每秒显示的帧数，确保动画的流畅性。

### **层级动画**
1. 将复杂物体分解成层次结构，独立控制每个部分的运动。
2. 使用 **矩阵栈** 管理父子节点的变换关系。

### **骨骼动画**
1. **骨骼**: 控制角色各部分的运动。
2. **关节**: 连接骨骼，允许旋转或移动。
3. **自由度 (DOF)**: 定义关节的运动方向和限制。

### **运动实现方法**
1. **关键帧插值**: 通过设置关键帧，自动生成平滑的中间帧。
2. **运动捕捉**: 捕捉真实运动数据驱动动画角色。
3. **逆向运动学 (IK)**: 根据目标位置自动计算关节角度。

### **动画挑战**
1. 碰撞检测与响应。
2. 姿态平滑过渡，避免突兀的运动。
3. 关节处皮肤的自然平滑过渡。
4. 适配不同角色，调整动画数据。

---

# 物理与生物学的视觉重点复习笔记

## **1. 光的物理特性**

### **1.1 光的定义**
- 光是一种 **电磁辐射**，具有**波粒二象性**。
- 我们通常将光建模为光线或粒子，以简化计算。

### **1.2 光的波长与颜色**
- **可见光波长范围**: 350 - 700 nm
    - **红色光**: 波长较长，接近 700 nm。
    - **紫色光**: 波长较短，接近 350 nm。
- 颜色由光的波长决定。

### **1.3 光的行为**
1. **发射 (Emission)**: 光源发出光线，例如太阳、灯泡。
2. **反射 (Reflection)**: 光线遇到物体表面时反射。
    - **镜面反射**: 光线在光滑表面上规则反射。
    - **漫反射**: 粗糙表面上光线散射。
3. **吸收 (Absorption)**: 光线被物体吸收，物体获得能量。
    - 颜色由物体反射的光决定。
4. **折射 (Refraction)**: 光线在不同介质之间传播时发生偏折。

---

## **2. 人眼与视觉系统**

### **2.1 人眼的结构**
1. **晶状体 (Lens)**: 聚焦光线到视网膜上。
2. **视网膜 (Retina)**: 包含光敏细胞：
    - **杆细胞 (Rods)**: 感知黑白图像，适用于低光环境。
    - **锥细胞 (Cones)**: 感知彩色图像，分为三类：
        - 红色锥细胞：对长波长光敏感。
        - 绿色锥细胞：对中等波长光敏感。
        - 蓝色锥细胞：对短波长光敏感。

---

### **2.2 颜色感知**
- **三刺激理论 (Tri-stimulus Theory)**:
    - 人眼通过红 (R)、绿 (G) 和蓝 (B) 三种基本颜色混合，感知其他颜色。
- **颜色的本质**: 人眼无法区分光的实际波长，只能感知光的混合结果。

---

### **2.3 立体视觉**
- 通过**双眼看到略微不同的图像**来感知深度。
- 大脑结合以下信息来感知物体的深度：
    1. **视差**: 双眼看到的图像稍有不同。
    2. **焦点调整**: 眼睛聚焦在不同距离的物体上。
    3. **运动视差**: 物体距离不同，移动时视觉速度不同。

---

## **3. 人眼的局限性**
1. **刷新率限制**:
    - 人眼对视觉的感知极限约为 **24 帧/秒**，低于此速率会感到卡顿。
    - 动画和视频的常见帧率为 **30 - 60 fps**，确保视觉流畅。
2. **视野限制**:
    - 人眼只能集中关注一小部分图像，导致视觉错觉的产生。

---

## **4. 渲染技术**

### **4.1 光线追踪 (Ray Tracing)**
- **定义**: 模拟光线与物体表面的反射、折射等相互作用，生成真实的图像。
- **优点**:
    - 真实感高，支持反射、折射和阴影效果。
- **缺点**:
    - 计算量大，渲染速度较慢。

---

### **4.2 投影渲染 (Rasterization)**
- **定义**: 将 3D 物体投影到 2D 屏幕上，并快速生成图像。
- **应用**:
    - 常用于实时渲染，如视频游戏和虚拟现实。
- **优点**:
    - 渲染速度快，适合实时应用。
- **缺点**:
    - 真实感有限，难以表现复杂的光照效果。

---

### **4.3 基于图像的渲染 (Image-Based Rendering, IBR)**
- **定义**: 使用已有图像合成新的视角，生成高质量画面。
- **应用**:
    - Google 街景、虚拟现实等静态场景展示。
- **优点**:
    - 真实感高，适合需要高质量静态图像的场景。
- **缺点**:
    - 缺乏动态交互性，无法实时修改场景。

---

## **5. 重点总结**

### **光的物理特性**
1. 光是电磁辐射，具有波粒二象性。
2. 颜色由光的波长决定，可见光波长范围为 **350 - 700 nm**。
3. 光的行为包括发射、反射、吸收和折射。

### **人眼与视觉**
1. 人眼包含晶状体和视网膜，视网膜包含杆细胞和锥细胞：
    - **杆细胞**: 感知黑白图像。
    - **锥细胞**: 感知红、绿、蓝三种基本颜色。
2. **立体视觉**: 通过双眼的视差和焦点调整感知深度。

### **渲染技术**
1. **光线追踪**: 真实感高，支持反射和折射，计算量大。
2. **投影渲染**: 渲染速度快，适合实时应用，真实感较低。
3. **基于图像的渲染**: 真实感高，但缺乏动态交互性。

### **人眼的局限性**
1. **刷新率**: 人眼对视觉的刷新率感知极限为 24 帧/秒。
2. **视野限制**: 人眼只能专注于图像的一部分，容易产生视觉错觉。

### **颜色感知**
1. 人眼通过杆细胞感知光的强度，通过锥细胞感知颜色。
2. **三刺激理论**：通过 RGB 三原色混合感知所有颜色。

### **颜色空间与模型**
1. **RGB**：光的加法混合，适用于显示器。
2. **CMYK**：基于减法混合，适用于打印设备。
3. **HSV**：通过色调、饱和度和亮度描述颜色。
4. **YUV**：用于视频传输，包含亮度和色度信息。
5. **XYZ**：标准颜色空间，形成色度图。

### **光的反射与吸收**
1. 物体的颜色取决于其反射的光波长。
2. 光的反射包括镜面反射和漫反射。
3. 光的吸收决定了反射回视网膜的颜色。

### **输入与输出设备**
1. **输入设备**：
    - 摄像头、扫描仪、光学和非可见光传感器。
2. **输出设备**：
    - **反射型**：打印设备，使用 CMYK 模型。
    - **发光型**：CRT、LCD 和 OLED 显示器。

### **颜色校准**
1. 不同设备的色域范围不同，需要进行校准以保持颜色一致性。

---

# 纹理 (Textures) 重点复习笔记

## **1. 纹理的基本概念**

### **1.1 什么是纹理？**
- 纹理是映射到物体表面上的图像，用于增加视觉细节。
- 纹理由**纹素 (Texels)** 组成，纹素是纹理图像中的像素。
- **作用**:
    - 增加物体表面的真实感。
    - 在不增加几何复杂度的前提下，使物体更加逼真。

---

## **2. 纹理坐标与映射**

### **2.1 纹理坐标系**
- 纹理坐标使用参数 **(s, t)** 来表示：
    - **s**: 水平坐标。
    - **t**: 垂直坐标。
- 坐标范围通常是 **[0, 1]**。

### **2.2 坐标映射**
- 将表面参数 **(s, t)** 映射到纹理图像的像素坐标 **(i, j)**，再获取纹素颜色。
- **步骤**:
    1. 计算表面点对应的纹理坐标。
    2. 查找纹理图像上的纹素。
    3. 将纹素颜色应用到表面点。

---

### **2.3 坐标超出范围的解决方法**
1. **Clamping (钳制)**: 将超出范围的坐标限制在边缘。
2. **Repeating (重复)**: 使纹理在超出坐标时重复平铺，常用于瓷砖和地板效果。

---

## **3. 插值方法**

### **3.1 为什么需要插值？**
- 纹理坐标通常不是整数，落在两个纹素之间，需要计算中间值。

### **3.2 常见的插值方法**
1. **最近邻插值 (Nearest Neighbour)**:
    - 选择最近的纹素颜色。
    - **特点**: 保持边缘清晰，适合简单纹理。
2. **双线性插值 (Bilinear Interpolation)**:
    - 根据四个相邻纹素加权平均。
    - **特点**: 颜色平滑过渡，适合自然纹理。
3. **三线性插值 (Trilinear Interpolation)**:
    - 在多分辨率纹理中进行插值，考虑不同层级的纹理。
    - **应用**: 处理纹理放大或缩小时的平滑效果。

---

## **4. 纹理操作**

### **4.1 纹理模式**
- **替换模式 (Replace)**: 使用纹理颜色直接替代表面颜色。
- **调制模式 (Modulate)**: 将纹理颜色与表面颜色相结合，产生光照效果。

### **4.2 纹理数据的传输**
- **文件 → 主内存 (RAM)**: 读取纹理图像文件。
- **主内存 → 显存 (VRAM)**: 将纹理数据传输到显卡内存，由 GPU 进行快速渲染。

### **4.3 像素操作**
- **缩放**: 调整纹素的亮度或颜色值。
- **偏置**: 使纹理整体变亮或变暗。
- **映射**: 调整纹理的像素值到特定范围，例如 [0, 1]。

---

## **5. 纹理变换**

### **5.1 纹理坐标变换**
- 对纹理坐标 **(s, t)** 进行平移、旋转和缩放操作，使纹理与物体表面更好地匹配。

### **5.2 纹理矩阵**
- 使用纹理矩阵进行坐标变换：
    - **平移**: 改变纹理的位置。
    - **缩放**: 调整纹理的大小。
    - **旋转**: 改变纹理的方向。

---

## **6. 纹理常见问题及解决方法**

### **6.1 纹理失真**
- **原因**: 纹理坐标与实际表面不匹配。
- **解决方法**: 使用纹理插值方法（双线性插值、三线性插值）减少失真。

### **6.2 缩放问题**
- 当纹理被放大或缩小时，可能出现锯齿或模糊。
- **解决方法**:
    - 使用高分辨率纹理。
    - 应用三线性插值或 Mipmapping（多分辨率纹理技术）。

### **6.3 纹理缝合**
- **原因**: 纹理在拼接时出现间隙或边缘线。
- **解决方法**: 设置纹理坐标为 **重复 (Repeat)** 模式，消除缝合线。

---

## **7. 总结重点**

### **纹理的概念与作用**
1. 纹理是图像映射到物体表面，用于增加视觉细节。
2. 通过纹理可以模拟复杂的表面效果，减少几何复杂度。

### **纹理坐标与映射**
1. 纹理坐标 **(s, t)** 与图像像素 **(i, j)** 之间的映射关系。
2. **Clamping** 和 **Repeating** 解决坐标超出范围问题。

### **插值方法**
1. **最近邻插值**: 简单快速，边缘清晰。
2. **双线性插值**: 平滑过渡，适合自然纹理。
3. **三线性插值**: 多层级插值，处理缩放问题。

### **纹理操作**
1. **替换模式**: 使用纹理直接替代表面颜色。
2. **调制模式**: 将纹理与表面颜色结合，增强光照效果。

### **纹理变换**
1. 使用纹理矩阵进行平移、缩放和旋转操作，使纹理与表面匹配。

### **纹理常见问题**
1. **失真**: 通过插值方法减少失真。
2. **缩放锯齿**: 使用高分辨率纹理或 Mipmapping。
3. **缝合问题**: 使用 **Repeat** 模式消除纹理拼接的缝隙。

---

# 光照与阴影重点复习笔记

## **1. 光的基本概念**

### **1.1 光的行为**
- 光具有以下行为：
    - **发射 (Emit)**：光源发出光线。
    - **反射 (Reflect)**：光线遇到物体表面反射。
    - **吸收 (Absorb)**：光线被物体表面吸收，物体获得能量。

---

### **1.2 光的来源**
1. **点光源 (Point Source)**：
    - 光从单一点向各个方向发散，例如灯泡和太阳。
    - 是最常用的光源类型。
2. **其他光源**：例如方向光源、聚光灯和环境光。

---

### **1.3 直接光与间接光**
- **直接光 (Direct Light)**：光线直接从光源照射到物体表面。
- **间接光 (Indirect Light)**：光线经过物体反射或折射后到达物体表面。

---

## **2. Phong 光照模型**

### **2.1 光照的组成部分**
1. **漫反射 (Diffuse Reflection)**：
    - 适用于粗糙表面，光线均匀反射到各个方向。
    - 与入射光线和表面法线的角度相关。
2. **镜面反射 (Specular Reflection)**：
    - 适用于光滑表面，形成高光效果。
    - 当视线与反射方向接近时，高光最明显。
3. **环境光 (Ambient Light)**：
    - 光线经过多次反射后在场景中均匀分布，提供基础照明。
4. **发射光 (Emitted Light)**：
    - 物体自身发出的光，例如发光体。

---

### **2.2 表面法线**
- 表面法线是垂直于物体表面的向量，用于确定光线的入射角和反射角。
- 光照效果依赖于光线与法线之间的夹角。

---

## **3. 阴影**

### **3.1 阴影的概念**
- 阴影是光线被物体阻挡后形成的光的缺失。
- **作用**：为场景增加深度感和真实感。

---

### **3.2 阴影实现方法**

#### **方法 1: Shadow Mapping (阴影映射)**
1. **深度图生成**：
    - 从光源视角渲染场景，生成一张记录物体距离的深度图。
2. **深度比较**：
    - 从观察者视角检查每个像素的深度是否超过深度图中的值。
    - 如果超出，则该点位于阴影中。
3. **优点**：效率高，适用于实时渲染。
4. **缺点**：容易产生锯齿或伪影，需要进一步优化。

---

#### **方法 2: 光线追踪 (Ray Tracing)**
1. 从表面点向光源发射**阴影射线 (Shadow Ray)**。
2. 如果阴影射线遇到障碍物，则该点位于阴影中。
3. **优点**：高真实感，适合电影渲染。
4. **缺点**：计算量大，速度较慢。

---

### **3.3 早期的阴影技术**
- **阴影贴图 (Shadow Blob)**：在物体下方绘制一个黑色的圆形阴影，简单但不真实。

---

## **4. 光照与阴影的结合**

### **4.1 光照与阴影的区分**
- **光照区域**：
    - 包括漫反射、镜面反射和环境光，呈现正常光照效果。
- **阴影区域**：
    - 只包含环境光和发射光，没有漫反射和镜面反射。

---

### **4.2 实时渲染的挑战**
- **阴影失真**：
    - 深度图分辨率不足导致阴影模糊或出现伪影。
- **性能瓶颈**：
    - 计算阴影时需要大量的深度比较或光线追踪。

---

## **5. 总结重点**

### **光的类型与行为**
1. 光具有发射、反射和吸收的特性。
2. **点光源**是常用的光源类型，光线从单一点向各个方向扩散。

### **Phong 光照模型**
1. 包括：
    - **漫反射**：粗糙表面的均匀反射。
    - **镜面反射**：光滑表面上的高光效果。
    - **环境光**：提供基础照明，适用于整个场景。
    - **发射光**：物体自身发出的光。
2. 表面法线决定光照与反射的方向。

### **阴影技术**
1. **Shadow Mapping**：基于深度图实现的实时阴影，适用于实时渲染。
2. **光线追踪**：通过阴影射线计算光线遮挡，提供高真实感效果。
3. **早期技术**：简单的阴影贴图，效果较差但计算成本低。

### **光照与阴影的结合**
1. 光照区域包括漫反射、镜面反射和环境光。
2. 阴影区域只有环境光和发射光，没有其他光照效果。
3. 阴影为场景增加了深度感和真实感。

---

# 帧缓冲区与混合 (The Frame Buffer and Blending) 重点复习笔记

## **1. 帧缓冲区 (Frame Buffer)**

### **1.1 定义**
- 帧缓冲区是**存储图像数据的内存区域**，用于显示器上的图像渲染。
- 包含多种缓冲区，支持复杂的图形操作。

---

### **1.2 双缓冲技术**
1. **前缓冲区 (Front Buffer)**：
    - 存储当前显示在屏幕上的图像。
2. **后缓冲区 (Back Buffer)**：
    - 存储正在绘制的图像，不会直接显示。
3. **双缓冲原理**：
    - 在后缓冲区绘制图像，完成后与前缓冲区交换，减少屏幕闪烁。

---

### **1.3 帧缓冲区的组成**
1. **颜色缓冲区 (Color Buffer)**：
    - 存储每个像素的颜色值 (R, G, B, A)。
2. **深度缓冲区 (Depth Buffer)**：
    - 存储每个像素的深度值 (Z 值)，用于隐藏不可见的物体。
3. **模板缓冲区 (Stencil Buffer)**：
    - 控制哪些像素可以被绘制，用于遮罩操作和复杂效果。
4. **累积缓冲区 (Accumulation Buffer)**：
    - 累加多次渲染结果，用于高级效果（如抗锯齿、动态模糊）。

---

## **2. 片元操作与测试**

### **2.1 片元操作**
- 每个像素在最终显示之前会进行一系列测试与操作，包括：
    1. **裁剪测试**：限制图像绘制在指定区域内。
    2. **透明度测试**：根据透明度 (Alpha 值) 丢弃不符合条件的像素。
    3. **模板测试**：使用模板缓冲区判断是否绘制像素。
    4. **深度测试**：通过比较深度值决定像素是否可见。

---

### **2.2 缓冲区清除**
- 在绘制新帧之前，需要清除缓冲区（颜色、深度和模板缓冲区）来初始化数据。

---

## **3. 混合 (Blending) 与透明度**

### **3.1 混合的概念**
- 混合是将**源颜色 (新绘制的颜色)** 与**目标颜色 (已有颜色)** 组合，产生半透明或叠加效果。

---

### **3.2 透明度 (Alpha 值)**
- **Alpha 值**表示不透明度：
    - **Alpha = 1**：完全不透明。
    - **Alpha = 0**：完全透明。
- 通过透明度可以实现玻璃、烟雾等效果。

---

### **3.3 混合顺序**
- 混合对渲染顺序敏感：
    1. 先绘制不透明物体。
    2. 后绘制透明物体，确保透明效果正确。
- **画家算法 (Painter's Algorithm)**：从远到近绘制物体，正确叠加透明物体。

---

## **4. 反走样技术 (Antialiasing)**

### **4.1 什么是走样？**
- 走样是图像边缘出现的**锯齿状效果**，由于分辨率有限导致边缘不平滑。

---

### **4.2 反走样方法**
1. **多重采样 (Multisampling)**：
    - 对像素进行多次采样，平滑边缘。
2. **累积缓冲区**：
    - 渲染图像多次，稍微抖动视角，累积结果平滑边缘。

---

## **5. 高级效果**

### **5.1 动态模糊 (Motion Blur)**
- 多次渲染物体的位置，将结果叠加，模拟运动时的模糊效果。

---

### **5.2 景深 (Depth of Field)**
- 模拟相机焦点效果：焦点平面上的物体清晰，其他物体模糊，增加视觉深度。

---

### **5.3 雾效与光散射**
- 通过深度值控制光线的散射效果，使远处的物体逐渐模糊，模拟雾、烟等效果。

---

## **6. 重点总结**

### **帧缓冲区**
1. 帧缓冲区存储图像数据，包含颜色缓冲、深度缓冲、模板缓冲和累积缓冲。
2. **双缓冲技术**：使用前后缓冲区交换，减少屏幕闪烁。

### **片元操作**
1. 包括裁剪测试、透明度测试、模板测试和深度测试，决定像素的可见性。

### **混合与透明度**
1. 混合通过 Alpha 值将新旧颜色组合，实现半透明效果。
2. 渲染顺序非常重要，需先绘制不透明物体，再绘制透明物体。

### **反走样技术**
1. **多重采样**：减少锯齿，平滑边缘。
2. **累积缓冲区**：多次渲染结果累加，得到平滑效果。

### **高级效果**
1. **动态模糊**：模拟物体运动的模糊。
2. **景深**：焦点内物体清晰，其他物体模糊。
3. **雾效**：通过深度值模拟光散射，增加真实感。

---

# 曲线与圆形重点复习笔记

## **1. 曲线与圆的基本概念**

### **1.1 曲线的定义与特点**
- **曲线**：由一系列连续的点组成，路径可以是弯曲的。
- 与直线的区别：曲线可以有弯曲，而直线是最短的路径。

### **1.2 圆的定义**
- **圆**：所有点到中心点的距离相等。
- 圆在计算机图形学中是重要的几何元素，广泛应用于建模、渲染和碰撞检测。

---

## **2. 曲线的连续性**

### **2.1 C0 连续性**
- **定义**：两段曲线在端点处相连。
- **特点**：曲线可以连接，但可能出现尖角，不平滑。

### **2.2 C1 连续性**
- **定义**：两段曲线在端点处相连，且切线（方向和大小）相等。
- **特点**：曲线连接处平滑，没有折痕。

### **2.3 G1 连续性（几何连续性）**
- **定义**：两段曲线的切线方向相同，但大小可以不同。
- **特点**：视觉上平滑，但速度（切线大小）可能不连续。
- **区别**：
    - **C1 连续性**：切线方向和大小都相等。
    - **G1 连续性**：切线方向相等，但大小可以不同。

---

## **3. 圆的表示方式**

### **3.1 显式表示**
- 使用数学公式表示圆，适用于简单的计算。
- **缺点**：计算复杂，效率较低。

### **3.2 隐式表示**
- 描述圆形的几何性质，适用于判断点是否在圆上。
- 适合用于光栅化和碰撞检测。

### **3.3 参数化表示**
- 使用角度将圆分解为一系列点，适用于计算机图形学中的光栅化和绘制。

---

## **4. 圆的光栅化**

### **4.1 光栅化的概念**
- 将连续的圆转换为由**离散像素点**表示的图形，称为光栅化。

### **4.2 光栅化方法**
1. **显式方法**：计算每个 x 坐标对应的 y 坐标。
    - **优点**：简单直观。
    - **缺点**：需要处理平方根，效率低。
2. **隐式方法**：判断像素到中心点的距离是否等于圆的半径。
    - **优点**：适用于小范围的圆形。
    - **缺点**：计算量较大。
3. **参数化方法**：通过角度计算圆上每个点的坐标。
    - **优点**：适用于渲染连续的圆。
    - **缺点**：涉及三角函数计算，速度较慢。

---

## **5. 线性近似圆**

### **5.1 线性近似的概念**
- 将圆近似为由**多个线段**组成的多边形。
- 通过增加线段数量，可以提高圆的逼真度。

### **5.2 应用**
- 线性近似适用于**高效渲染**，减少计算复杂度。
- 广泛用于实时图形渲染。

---

## **6. Bézier 曲线与 B-Spline 曲线**

### **6.1 Bézier 曲线**
- **定义**：由控制点定义的平滑曲线。
- **特点**：
    - 控制点越多，曲线越复杂。
    - 常用于设计与动画。
- **分段 Bézier 曲线**：通过多个 Bézier 曲线段组合，形成更复杂的形状。
- **C1 连续性**：通过调整相邻段的控制点，确保曲线平滑连接。

### **6.2 B-Spline 曲线**
- **定义**：一种分段三次曲线，由多个控制点定义。
- **特点**：
    - 曲线更灵活，适用于复杂的平滑曲线建模。
    - 能保持 G1 连续性，视觉效果平滑。

---

## **7. 线与圆的交点**

### **7.1 线与圆的交点概念**
- 线与圆的交点是两者相交的点。
- 通过几何方法或方程求解得到交点。

### **7.2 应用**
- **碰撞检测**：判断物体与圆形的接触情况。
- **路径规划**：确定线与圆的交点，用于计算机图形导航。

---

## **8. 总结重点**

### **曲线的连续性**
- **C0 连续性**：端点相连但可能不平滑。
- **C1 连续性**：端点相连且切线方向与大小相等，平滑无折痕。
- **G1 连续性**：端点相连且切线方向相同，大小可以不同，视觉平滑。

### **圆的表示方式**
- 显式、隐式与参数化表示各有优缺点，适用于不同应用场景。

### **圆的光栅化**
- 光栅化方法：显式法、隐式法和参数化法。
- **线性近似**：将圆分解为线段，提高渲染效率。

### **Bézier 曲线与 B-Spline 曲线**
- Bézier 曲线由控制点定义，适用于动画与设计。
- B-Spline 曲线更灵活，适用于复杂曲线建模。

### **线与圆的交点**
- 应用于碰撞检测、路径规划等领域，解决物体与圆形的交互问题。

---

# Hermite 曲线重点复习笔记

## **1. Hermite 曲线的定义**

- **Hermite 曲线**是一种用于图形学和动画的**参数化曲线**。
- 通过**起点**、**终点**及对应的**切线向量**来定义曲线形状。

---

## **2. Hermite 曲线的特点**

### **2.1 控制点与切线**
- Hermite 曲线由以下信息决定：
    - **起点 \( P_0 \)**
    - **终点 \( P_1 \)**
    - **起点的切线向量 \( T_0 \)**
    - **终点的切线向量 \( T_1 \)**

### **2.2 可控性**
- Hermite 曲线的形状由控制点和切线向量的方向与大小决定。
- 调整切线方向和长度，可以精确控制曲线的**形态**和**平滑度**。

---

## **3. Hermite 曲线的性质**

### **3.1 C1 连续性**
- 两段 Hermite 曲线在端点相连，且**切线方向与大小相同**时，具有**C1 连续性**，曲线平滑无折痕。

### **3.2 G1 连续性**
- 两段曲线端点的**切线方向**相同，但**大小可以不同**时，曲线具有**G1 连续性**，视觉上平滑但速度可能不连续。

---

## **4. Hermite 曲线的优点**

1. **易于控制**：通过指定起点、终点及切线向量，可以直观地控制曲线形态。
2. **平滑过渡**：调整切线向量可以实现不同段之间的平滑过渡。
3. **广泛应用**：适用于动画路径、关键帧插值以及平滑曲线建模。

---

## **5. Hermite 曲线的应用**

### **5.1 动画路径插值**
- Hermite 曲线用于物体的平滑运动路径，通过起点、终点和切线确定轨迹。

### **5.2 曲线段的拼接**
- 多段 Hermite 曲线可以拼接，形成复杂的平滑曲线。
- 确保切线向量方向与大小一致，即可实现**C1 连续性**。

### **5.3 平滑过渡**
- Hermite 曲线常用于关键帧动画中的平滑过渡，减少物体移动时的抖动感。

---

## **6. Hermite 曲线与 Bézier 曲线的比较**

| **特点**            | **Hermite 曲线**                     | **Bézier 曲线**                  |
|---------------------|------------------------------------|--------------------------------|
| 定义方式            | 起点、终点、切线向量               | 控制点                          |
| 控制参数            | 直接使用切线向量控制曲线形态       | 通过控制点间接控制曲线形态       |
| 连续性              | 需要保证切线方向与大小一致来平滑连接 | 通过调整控制点实现平滑连接        |
| 计算复杂度          | 较低                               | 略高                             |
| 应用                | 动画路径插值、平滑过渡             | 图形设计、复杂曲线建模           |

---

## **7. Hermite 曲线的优点与局限**

### **7.1 优点**
1. **简单易控**：直接调整切线向量控制曲线形态。
2. **灵活性高**：适合动态插值与平滑过渡。
3. **高效**：计算量较小，适用于实时计算。

### **7.2 局限**
1. 切线向量需要手动设置，控制不够直观。
2. 连接多段曲线时，需确保切线方向与大小连续，增加复杂度。

---

## **8. 重点总结**

### **Hermite 曲线定义**
- 通过**起点**、**终点**和对应的**切线向量**定义曲线。

### **Hermite 曲线的连续性**
- **C1 连续性**：两段曲线端点的切线方向与大小相同，曲线平滑无折痕。
- **G1 连续性**：两段曲线端点的切线方向相同，但大小可以不同，视觉上平滑。

### **Hermite 曲线的应用**
1. 动画路径插值：实现物体平滑运动。
2. 曲线拼接：通过切线向量控制，实现平滑过渡。
3. 关键帧过渡：减少动画中的抖动感。

### **Hermite 与 Bézier 曲线对比**
- Hermite 曲线通过切线向量控制，适用于平滑路径与动画插值。
- Bézier 曲线通过控制点定义，适用于复杂图形建模。

---

















